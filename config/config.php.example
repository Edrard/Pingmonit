<?php
/**
 * Example configuration file for PingMonit monitoring system
 * Copy this file to config.php and adjust it to your needs
 */

return [
    // Hosts to monitor
    // Both IP addresses and domain names are supported
    'ips' => [
        'google.com' => ['send_email' => true, 'send_telegram' => true, 'web' => true, 'name' => 'Google'],
        '8.8.8.8' => ['send_email' => true, 'send_telegram' => true, 'web' => true, 'name' => 'DNS'],
        '192.168.1.1' => ['send_email' => false, 'send_telegram' => true, 'web' => true, 'name' => 'Local'],
        // Add your hosts here
    ],

    // UPS devices to monitor (SNMP)
    // OIDs are vendor/model specific.
    'ups' => [
        [
            'name' => 'UPS Server Room',
            'ip' => '172.16.2.250',  // Use ip:port for non-standard SNMP ports
            'send_email' => true,
            'send_telegram' => true,
            'web' => true,
            'snmp_version' => '2c',
            'snmp_community' => 'your_community',
            'snmp_v3_username' => '',
            'snmp_v3_auth_protocol' => 'SHA',
            'snmp_v3_auth_password' => '',
            'snmp_v3_priv_protocol' => 'AES',
            'snmp_v3_priv_password' => '',
            'oid_capacity' => '1.3.6.1.4.1.x.x.x',
            'oid_runtime' => '1.3.6.1.4.1.x.x.x',
            'oid_time_on_battery' => '1.3.6.1.4.1.x.x.x',
            'oid_battery_status' => '1.3.6.1.4.1.x.x.x',
            // Optional: override global thresholds for this UPS
            'thresholds' => [
                'warning' => 85,  // % and below (overrides global 90)
                'critical' => 40,  // % and below (overrides global 50)
            ],
        ],
        [
            'name' => 'UPS Network Closet',
            'ip' => '172.16.2.251:1161',  // Non-standard SNMP port
            'send_email' => true,
            'send_telegram' => true,
            'web' => true,
            'snmp_version' => '2c',
            'snmp_community' => 'your_community',
            'oid_capacity' => '1.3.6.1.4.1.x.x.x',
            'oid_runtime' => '1.3.6.1.4.1.x.x.x',
            'oid_time_on_battery' => '1.3.6.1.4.1.x.x.x',
            'oid_battery_status' => '1.3.6.1.4.1.x.x.x',
            // Uses global thresholds (warning=90, critical=50)
        ],
        // Add your UPS devices here
    ],

    'web_refresh_seconds' => 60,

    // Email recipients
    // Notifications will be sent to all addresses listed here
    'emails' => [
        'admin@example.com',
        'support@example.com',
        // Add recipient emails here
    ],

    // Logs directory
    // Make sure the process running PingMonit has write permissions to this directory
    'logs_path' => __DIR__ . '/../logs/',

    // JSON file path for storing the current system state
    // The file will be created automatically on first run
    'state_file' => __DIR__ . '/../state/system_state.json',

    // JSON file path for storing UPS state
    'ups_state_file' => __DIR__ . '/../state/ups_state.json',

    // Default UPS thresholds (can be overridden per UPS)
    'ups_thresholds' => [
        'warning' => 90,  // % and below
        'critical' => 50, // % and below
    ],

    'telegram' => [
        'enabled' => false,
        'api_key' => '',
        'bot_username' => '',
        'chat_id' => '',
    ],

    // Email settings (PHPMailer)
    // For Gmail, use an App Password instead of your regular password
    'email' => [
        'smtp_host' => 'smtp.gmail.com', // SMTP server (smtp.gmail.com, smtp.mail.ru, etc.)
        'smtp_port' => 587, // Port (587 for TLS, 465 for SSL, 25 for plain)
        'smtp_username' => 'your-email@gmail.com', // Your email
        'smtp_password' => 'your-app-password', // App password (not your regular password)
        'smtp_encryption' => 'tls', // tls or ssl
        'from_email' => 'your-email@gmail.com', // Sender email
        'from_name' => 'PingMonit System', // Sender name
        'subject_prefix' => '[PingMonit] ', // Subject prefix
    ],

    // Monitoring settings
    'monitoring' => [
        'ping_timeout' => 5, // Ping timeout in seconds
        'max_failures' => 3, // Max failures before switching to critical
        'recovery_notification' => true, // Whether to send recovery notifications
    ],
];