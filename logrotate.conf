# PingMonit Log Rotation Configuration
# Place this file in /etc/logrotate.d/pingmonit

/path/to/pingmonit/logs/*.log {
    daily
    rotate 30
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    create 644 www-data www-data
    dateext
    dateformat -%Y%m%d
    extension .log
    
    # Optional: send email to admin if rotation fails
    # mail admin@example.com
    
    # Optional: run script after rotation
    # postrotate
    #     systemctl reload php-fpm 2>/dev/null || true
    # endscript
}

# Alternative for development/testing
/path/to/pingmonit/logs/*.log {
    daily
    rotate 7
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    create 644 $USER $USER
    dateext
    dateformat -%Y%m%d
    extension .log
}
